var tateJS={galleries:{},GalleryObj:function(b,a,d){this.array=b;this.width=a;this.position=d},ImageObj:function(b,a,d,c){this.elem=b;this.idx=c;this.galleryKey=d;this.caption=a;this.visible=!0},expanded:void 0,expander:void 0,setupGallery:function(b,a){for(var d=[],c=0,e=a.length;c<e;c++){var f=a[c];f.className+=" tateJSthumb";var g=f.getAttribute("data-tatejs-caption");""===g&&(g=f.alt);d.push(new tateJS.ImageObj(f,g,b,c))}tateJS.galleries[b]=new tateJS.GalleryObj(d,0,0);return tateJS.galleries[b]},
defaultOpts:{canExpand:!0,cycles:!1,hasControls:!0,width:4},createViewerFor:function(b,a){for(option in tateJS.defaultOpts)void 0===a[option]&&(a[option]=tateJS.defaultOpts[option]);var d=document.getElementById(b);d.className+=" tateJSviewer";var c=tateJS.setupGallery(b,d.getElementsByTagName("img"));if(!0===a.canExpand)for(var e=0,f=c.array.length;e<f;e++)(function(a){c.array[a].elem.addEventListener("click",function(){tateJS.expand(tateJS.galleries[b].array[a])})})(e);c.width=a.width;c.position=
    0;if(!0===a.hasControls){e=document.createElement("div");e.className="tateJSviewerControls";f=document.createElement("button");f.addEventListener("click",function(){tateJS.viewerPrev(b)});f.innerHTML="Previous";var g=document.createElement("button");g.addEventListener("click",function(){tateJS.viewerNext(b)});g.innerHTML="Next";e.appendChild(f);e.appendChild(g);c.array.length<=a.width&&(g.disabled=!0);f.disabled=!0;d.appendChild(e)}c.array.length>a.width?tateJS.setVisible(b,0,a.width-1):tateJS.setVisible(b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  0,c.array.length-1)},setVisible:function(b,a,d){b=tateJS.galleries[b];for(var c=0,e=b.array.length;c<e;c++)b.array[c].elem.style.display=a<=c&&c<=d?"inline":"none"},viewerNext:function(b){var a=tateJS.galleries[b],d=a.position+a.width,c=d+a.width-1,e=a.array.length,f=!1;c>e-1&&(c=e-1,d=e-a.width,f=!0);for(var e=document.getElementById(b).getElementsByClassName("tateJSviewerControls")[0].childNodes,g=0;2>g;g++)switch(e[g].innerHTML){case "Next":!0==f&&(e[g].disabled=!0);break;case "Previous":e[g].disabled=
        !1}a.position=d;tateJS.setVisible(b,d,c)},viewerPrev:function(b){var a=tateJS.galleries[b],d=a.position-a.width,c=d+a.width-1;0>d&&(d=0,c=a.width-1,overflowFlag=!0);for(var e=document.getElementById(b).getElementsByClassName("tateJSviewerControls")[0].childNodes,f=0;2>f;f++)switch(e[f].innerHTML){case "Next":e[f].disabled=!1}a.position=d;tateJS.setVisible(b,d,c)},expand:function(b){var a=tateJS.expander;void 0===a&&(a=tateJS.setupExpander());tateJS.expanded=b;a.imgElem.src=b.elem.src;a.captionElem.innerHTML=
            b.caption;a.divElem.style.visibility="visible"},expanderNext:function(){var b=tateJS.expanded.galleryKey,a=tateJS.expanded.idx;a++;a>tateJS.galleries[b].array.length-1?tateJS.expand(tateJS.galleries[b].array[0]):tateJS.expand(tateJS.galleries[b].array[a])},expanderPrev:function(){var b=tateJS.expanded.galleryKey,a=tateJS.expanded.idx;a--;0>a?tateJS.expand(tateJS.galleries[b].array[tateJS.galleries[b].array.length-1]):tateJS.expand(tateJS.galleries[b].array[a])},shrink:function(){tateJS.expander.divElem.style.visibility=
                "hidden"},setupExpander:function(){var b=document.createElement("div");b.id="tateJSexpander";var a=document.createElement("img");a.id="tateJSexpanderImage";var d=document.createElement("div");d.id="tateJSexpanderCaption";var c=document.createElement("div");c.id="tateJSexpanderControls";var e=document.createElement("button");e.innerHTML="Previous";e.addEventListener("click",function(){tateJS.expanderPrev()});var f=document.createElement("button");f.innerHTML="Close";f.addEventListener("click",function(){tateJS.shrink()});
                    var g=document.createElement("button");g.innerHTML="Next";g.addEventListener("click",function(){tateJS.expanderNext()});c.appendChild(e);c.appendChild(f);c.appendChild(g);b.appendChild(a);b.appendChild(d);b.appendChild(c);document.body.appendChild(b);tateJS.expander={divElem:b,imgElem:a,captionElem:d};tateJS.expander.divElem.style.visibility="hidden";return tateJS.expander}};